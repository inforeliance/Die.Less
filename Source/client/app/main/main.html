<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container maincontainer">
    <div class="row">

        <div class="bannerholder">
            <img src="/assets/images/MedCheck-Home-Screen-Background-Merged-v2.png" class="img-responsive" />
            <div class="textcaption">
                <h3>Get Started</h3>
                <p>
                    Enter the medication or scan the barcode, then select the criteria you want to check.
                    You can also save your choices for your future searches.
                </p>
            </div>
        </div>


        <!--<div class="col-lg-12">
          <h1 class="page-header">Features:</h1>
          <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings">
            <li><a href="#" tooltip="{{thing.info}}">{{thing.name}}</a></li>
          </ul>
        </div>-->
    </div>

    <div class="top30"></div>
    <form class="form-inline" id="medicationSearchForm" novalidate name="medicationSearchForm" ng-submit="performSearch(medicationSearchForm.$valid)">
        <div class="form-group" ng-class="{'has-error has-feedback': medicationSearchForm.MedicationName.$error.required && medicationSearchForm.$submitted}">
            <label class="control-label" for="medication">Medication/UPC</label>
            <input class="form-control" type="text" name="MedicationName" id="MedicationName" placeholder="Enter medication name or UPC"
                   ng-model="SearchValue"
                   ng-change="SearchChanged()"
                   required>
            <span class="fa fa-remove form-control-feedback" aria-hidden="true"></span>
        </div>

        <div class="form-group">
            <label class="control-label">or scan a barcode</label>
            <button type="button" class="btn btn-primary" ng-click="startCamera()" ng-show="!cameraVisible">
                <i class="fa fa-barcode fa-2x"></i>
            </button>
            <button type="button" class=" btn-primary btn" ng-show="cameraVisible" ng-click="stopCamera()">
                <i class="fa fa-stop fa-2x vertical-middle"></i> Stop Scanning
            </button>
        </div>

        <div class="row">
            <div id="interactive" class="viewport" ng-show="cameraVisible"></div>
        </div>

        <div class="alert alert-danger top10" ng-show="ShowNotFoundErrorMessage || ShowBrandNotFoundErrorMessage">
            <span ng-show="ShowNotFoundErrorMessage">The UPC {{SearchValue}} was not found. Either this is not a product tracked by the FDA, or you mistyped something.</span>
            <span ng-show="ShowBrandNotFoundErrorMessage">The brand you entered {{SearchValue}} was not found. Either this is not a brand tracked by the FDA, or you mistyped something.</span>
        </div>
        <div class="clear"></div>

        <div class="top10">
            <label>
                Check for the following (must choose at least one)
            </label>
        </div>

        <div class="row top10">
            <div class="col-md-4">
                <button type="button" class="btn btn-success btn-block " ng-click="showAllergen = !showAllergen">Allergens</button>
                <div collapse="!showAllergen" class="form-inlinae">
                    <div class="well well-lg">
                        <ul class="list-group">
                            <li ng-repeat="allergen in allergens" class="list-group-item">
                                <div class="allergen-group">
                                    <a class="allergen-group-delete" ng-click="removeAllergen(allergen)">
                                        <span class="fa fa-minus-circle"></span>
                                    </a>
                                    <input type="text" ng-keypress="$event.keyCode == 13 ? addAllergen() : allergen.invalidIngredient=false" ng-model="allergen.name" class="form-control" id="allergyFocusElement" placeholder="Enter allergy" />
                                    <div class="text-danger unknownIngredient" ng-show="allergen.invalidIngredient" data-toggle="tooltip" title="This ingredient was not found in the FDA database. Please check spelling.">
                                        <i class="fa fa-exclamation-circle"></i>
                                    </div>
                                </div>

                            </li>
                        </ul>

                        <a href="javascript:{}" ng-click="addAllergen()">
                            Add More
                        </a>
                    </div>
                </div>
            </div>

            <div class="top30 hidden-md hidden-lg"></div>

            <div class="col-md-4">
                <button type="button" class="btn btn-success btn-block " ng-click="showAge = !showAge">Age Warnings </button>
                <div collapse="!showAge">
                    <div class="well well-lg">
                        <div ng-repeat="ageChoice in ageChoices">
                            <div class="icon-bigger btn btn-block" ng-model="selectedAge.selected" btn-radio="ageChoice" ng-class="selectedAge.selected == ageChoice ? 'btn-primary' : 'btn-default'">
                                <p class="text-left padding left10">
                                    <span class="fa " ng-class=" selectedAge.selected == ageChoice ? 'fa-check-square-o' : 'fa-square-o'"></span>
                                    {{ageChoice.label}}
                                </p>
                            </div>
                            <p></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="top30 hidden-md hidden-lg"></div>

            <div class="col-md-4">
                <button type="button" class="btn btn-success btn-block " ng-click="showPregnant = !showPregnant">Nursing/Pregnant Warnings</button>
                <div collapse="!showPregnant">
                    <div class="well well-lg">
                        <button type="button" class="icon-bigger btn btn-block" ng-model="nursingOrPregnant" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false" ng-class="nursingOrPregnant ? 'btn-primary' : 'btn-default'">
                            <span class="fa" ng-class="nursingOrPregnant ? 'fa-check-square-o' : 'fa-square-o'"></span>
                            Nursing / Pregnant
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row top30">
            <div class="col-xs-12">
                <button type="submit" class="btn icon-2x search-button btn-primary btn-block">
                    <i class="fa fa-search "></i>Search
                </button>
            </div>
        </div>
    </form>


    <div class="row top30" ng-show="BrandProductModels != null">
        <div class="col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Pick the product from the list below</h3>
                </div>
                <div class="panel-body" id="productSearchList">
                    <div class="list-group">
                        <a class="list-group-item" ng-repeat="product in BrandProductModels" ng-click="selectProduct(product)">
                            <h4 class="list-group-item-heading">{{product.brandName}}</h4>
                            <p class="list-group-item-text">{{product.purpose}}</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="top30"></div>

    <div class="panel panel-default" ng-show="ProductModel">
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-2"><strong>Brand Name</strong></div>
                <div class="col-sm-10">
                    {{ProductModel.brandName}}
                </div>
            </div>
            <hr />
            <div class="row">
                <div class="col-sm-2">
                    <strong>
                        <i class="fa fa-2x vertical-middle" ng-class="ProductModel.safeForPregnancy ? 'fa-thumbs-up' : 'fa-thumbs-down'"></i>
                        Pregnancy
                    </strong>
                </div>
                <div class="col-sm-10">
                    <span ng-show="ProductModel.safeForPregnancy">
                        Safe
                    </span>
                    <span ng-show="!ProductModel.safeForPregnancy">
                        {{ProductModel.pregnancy}}
                    </span>
                </div>
            </div>

            <hr />
            <!--<div class="row">
                <div class="col-sm-2"><strong>Purpose</strong></div>
                <div class="col-sm-10">{{ProductModel.purpose}}</div>
            </div>
                <hr/>
                -->

            <div class="row">
                <div class="col-sm-2">
                    <i class=" fa fa-2x vertical-middle" ng-class="ProductModel.ShowAgeWarning ? 'fa-thumbs-down' : 'fa-thumbs-up'"></i>
                    <strong>Age</strong>
                </div>
                <div class="col-sm-10">{{ProductModel.minimumAgeInfo}}</div>
            </div>

            <hr />
            <div class="row">
                <div class="col-sm-2">
                    <strong>
                        <i class="fa fa-2x vertical-middle" ng-class="ProductModel.BadIngredients.length===0 ? 'fa-thumbs-up' : 'fa-thumbs-down'"></i>
                        Ingredients
                    </strong>
                </div>
                <div class="col-sm-3">
                    <div class="list-group ingredient-list">
                        <a href="#" ng-repeat="ingredient in ProductModel.BadIngredients" class="list-group-item">
                            {{ingredient}}
                        </a>
                        <span ng-show="ProductModel.BadIngredients.length==0">No allergens were found</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>